// ==UserScript==
// @name         「百炼英雄」插件 - project
// @namespace    TemperedHeroes-Plugin/TemperedHeroes-Plugin
// @version      1.1.9
// @author       zzliux
// @description  百炼英雄辅助，支持抽卡、打肉、打金币、打副本、挂机领宝箱
// @icon         https://www.google.com/s2/favicons?sz=64&domain=boomegg.cn
// @homepageURL  https://github.com/TemperedHeroes-Plugin/TemperedHeroes-Plugin-TampermonkeyScript
// @supportURL   https://github.com/TemperedHeroes-Plugin/TemperedHeroes-Plugin-TampermonkeyScript/issues
// @downloadURL  https://github.com/TemperedHeroes-Plugin/TemperedHeroes-Plugin-TampermonkeyScript/raw/refs/heads/main/dist/%E3%80%8C%E7%99%BE%E7%82%BC%E8%8B%B1%E9%9B%84%E3%80%8D%E6%8F%92%E4%BB%B6%20-%20project.user.js
// @updateURL    https://github.com/TemperedHeroes-Plugin/TemperedHeroes-Plugin-TampermonkeyScript/raw/refs/heads/main/dist/%E3%80%8C%E7%99%BE%E7%82%BC%E8%8B%B1%E9%9B%84%E3%80%8D%E6%8F%92%E4%BB%B6%20-%20project.user.js
// @match        https://mprogram.boomegg.cn/box/game/wx77200645d1c7f35f/h5?appid=wx77200645d1c7f35f&game_platform=h5
// @require      https://registry.npmmirror.com/vue/3.5.13/files/dist/vue.global.prod.js
// @require      data:application/javascript,%3Bwindow.Vue%3DVue%3B
// @require      https://registry.npmmirror.com/element-plus/2.9.7/files/dist/index.full.min.js
// @require      https://registry.npmmirror.com/echarts/5.6.0/files/dist/echarts.js
// @require      https://registry.npmmirror.com/sortablejs/1.15.6/files/Sortable.min.js
// @resource     element-plus/dist/index.css  https://registry.npmmirror.com/element-plus/2.9.7/files/dist/index.css
// @grant        GM_addStyle
// @grant        GM_getResourceText
// @grant        GM_getValue
// @grant        GM_setValue
// @grant        unsafeWindow
// ==/UserScript==

(t=>{if(typeof GM_addStyle=="function"){GM_addStyle(t);return}const e=document.createElement("style");e.textContent=t,document.head.append(e)})(" .bet-card-log .el-dialog__footer,.bet-card-log .el-dialog__header{padding-top:0!important;padding-bottom:0!important}.setting-dialog-select .el-select-dropdown__item{text-align:left!important}.importLogContainer .el-textarea__inner{height:100%}.group[data-v-fbcb57d2]{width:max-content;margin-bottom:4px;float:right}.importLogContainer[data-v-fbcb57d2],.bet-card-log pre[data-v-fbcb57d2]{overflow:auto;height:calc(85vh - 260px);text-align:left;font-size:12px}.statisticsContainer[data-v-fbcb57d2]{overflow-x:hidden;height:calc(85vh - 214px);text-align:left}.group[data-v-ff7011a8]{width:max-content;margin-bottom:4px;float:right}.setting-dialog .el-dialog__footer{padding-top:0!important;padding-bottom:0!important}.group[data-v-4e5d25e3]{width:max-content;margin-bottom:4px;float:right}.dialog-content{display:flex;flex-direction:column;max-height:60vh}.settings-list{overflow-y:auto;flex:1;padding-right:8px}.setting-item{display:flex;align-items:center;margin-bottom:1px;padding:2px;background:#f5f7fa;border-radius:4px}.drag-handle{cursor:move;margin-right:10px;padding:0 8px;color:#909399}.name-text{margin:0 10px;text-align:left}.dynamic-btn-form-item{margin-bottom:10px}@media (max-width: 768px){.dialog-content{max-height:calc(100vh - 120px)}.setting-item{flex-wrap:wrap}}.path-viewer.el-dialog{padding:0;margin-right:0;pointer-events:auto}.path-viewer .el-dialog__header,.path-viewer .el-dialog__footer{padding:0}.path-viewer .el-dialog__headerbtn{width:22.5px;height:22.5px}.path-viewer-modal{pointer-events:none}.group[data-v-ee34aa69]{width:max-content;margin-bottom:4px;float:right}.zz-float-btn[data-v-ee34aa69]{position:fixed;bottom:10px;right:10px;width:30px;height:30px;border-radius:50%;background:#ff4757;color:#fff;border:0;cursor:pointer;font-size:18px;box-shadow:0 4px 12px #0003;transition:.3s;z-index:3001;outline:none;-webkit-user-select:none;user-select:none;align-items:center;justify-content:center;line-height:27px}.zz-sub-btns[data-v-ee34aa69]{position:fixed;bottom:40px;right:10px;opacity:0;transition:.3s;pointer-events:none;display:block;width:min-content;z-index:3001}.zz-sub-btns>button[data-v-ee34aa69]{margin-bottom:4px;float:right}.zz-show .zz-sub-btns[data-v-ee34aa69]{opacity:1;pointer-events:all}.zz-rotate[data-v-ee34aa69]{transform:rotate(45deg)!important} ");

(function (vue, $t, Ve, Ft) {
    'use strict';

    function _interopNamespaceDefault(e) {
        const n = Object.create(null, { [Symbol.toStringTag]: { value: 'Module' } });
        if (e) {
            for (const k in e) {
                if (k !== 'default') {
                    const d = Object.getOwnPropertyDescriptor(e, k);
                    Object.defineProperty(n, k, d.get ? d : {
                        enumerable: true,
                        get: () => e[k]
                    });
                }
            }
        }
        n.default = e;
        return Object.freeze(n);
    }

    const Ve__namespace = /*#__PURE__*/_interopNamespaceDefault(Ve);

    const Ot=t=>{const e=GM_getResourceText(t);return GM_addStyle(e),e};Ot("element-plus/dist/index.css");var G=typeof GM_getValue<"u"?GM_getValue:void 0,K=typeof GM_setValue<"u"?GM_setValue:void 0,y=typeof unsafeWindow<"u"?unsafeWindow:void 0;const pt=[{id:"81002",name:"莉莉",quality:"蓝"},{id:"81003",name:"布莱恩",quality:"灰"},{id:"82001",name:"杰克",quality:"蓝"},{id:"82002",name:"罗宾汉",quality:"蓝"},{id:"82003",name:"波派",quality:"蓝"},{id:"82005",name:"莱特宁",quality:"橙"},{id:"82006",name:"哈桑",quality:"蓝"},{id:"82007",name:"温蕾萨",quality:"蓝"},{id:"83001",name:"德古拉",quality:"橙"},{id:"83002",name:"克里冈",quality:"紫"},{id:"83003",name:"王昭君",quality:"橙"},{id:"83004",name:"奈辛瓦里",quality:"紫"},{id:"83006",name:"玛丽亚",quality:"紫"},{id:"83008",name:"麦克雷",quality:"紫"},{id:"83009",name:"克劳德",quality:"紫"},{id:"83011",name:"海森堡",quality:"紫"},{id:"83012",name:"洁萝露尔",quality:"紫"},{id:"83013",name:"狂鼠",quality:"紫"},{id:"83014",name:"蒙特祖马",quality:"紫"},{id:"83015",name:"阿宝",quality:"橙"},{id:"83017",name:"佐罗",quality:"紫"},{id:"83019",name:"弗罗斯特",quality:"紫"},{id:"83020",name:"奎托斯",quality:"紫"},{id:"83021",name:"琪琪",quality:"紫"},{id:"83022",name:"埃里克",quality:"紫"},{id:"83023",name:"拉格纳",quality:"紫"},{id:"83031",name:"吉尔",quality:"橙"},{id:"84001",name:"宫本武藏",quality:"橙"},{id:"84003",name:"亚瑟",quality:"橙"},{id:"84004",name:"阿狸",quality:"橙"},{id:"84005",name:"缘壹",quality:"橙"},{id:"84007",name:"熬丙",quality:"红"},{id:"84008",name:"雅丽娜",quality:"红"},{id:"84009",name:"拉斐尔",quality:"橙"},{id:"84011",name:"谢必安",quality:"橙"},{id:"84013",name:"乌瑟尔",quality:"红"},{id:"84014",name:"莉娜",quality:"橙"},{id:"84015",name:"阿萨斯",quality:"橙"},{id:"84016",name:"卡卡西",quality:"红"},{id:"84017",name:"达斯坦",quality:"红"},{id:"84018",name:"杜康",quality:"红"},{id:"84019",name:"甘道夫",quality:"橙"},{id:"84020",name:"维多利亚",quality:"橙"},{id:"84021",name:"威尔海姆",quality:"橙"},{id:"84022",name:"阿帕奇",quality:"紫"},{id:"84023",name:"嫦娥",quality:"橙"},{id:"84024",name:"一眉",quality:"橙"},{id:"84025",name:"塔纳托斯",quality:"橙"},{id:"84026",name:"戴维琼斯",quality:"橙"},{id:"84027",name:"美杜莎",quality:"橙"},{id:"84028",name:"塔拉萨",quality:"橙"},{id:"84029",name:"花木兰",quality:"红"},{id:"84030",name:"斯卡哈",quality:"橙"},{id:"85001",name:"李白",quality:"红"},{id:"85002",name:"玛法里奥",quality:"红"},{id:"85003",name:"孙悟空",quality:"红"},{id:"85004",name:"哪吒",quality:"红"},{id:"85007",name:"吕布",quality:"红"},{id:"85008",name:"关羽",quality:"白金"},{id:"85009",name:"诸葛亮",quality:"红"},{id:"85010",name:"孙尚香",quality:"红"},{id:"85012",name:"阿扎尔",quality:"红"},{id:"85015",name:"后羿",quality:"红"},{id:"85016",name:"贞德",quality:"红"},{id:"85019",name:"妮露",quality:"橙"},{id:"85020",name:"宙斯",quality:"红"},{id:"85021",name:"紫霞",quality:"橙"},{id:"85022",name:"芬里尔",quality:"红"},{id:"85026",name:"黄飞虎",quality:"橙"},{id:"85027",name:"阿卡多",quality:"红"},{id:"85028",name:"白",quality:"橙"},{id:"85029",name:"莉莎",quality:"红"},{id:"85031",name:"闻仲",quality:"红"},{id:"85041",name:"嬴政",quality:"红"},{id:"86001",name:"姜尚",quality:"白金"},{id:"83029",name:"银发",quality:"橙"}],nt={};pt.forEach(t=>nt[t.id]=t);const zt=["灰","蓝","紫","橙","红","白金"].map(t=>({value:`quality:${t}`,label:`品阶:${t}`,children:pt.filter(e=>e.quality===t).map(e=>({value:`id:${e.id}`,label:`名称:${e.name}`}))}));function te(t){return !("type"in t)}function Gt(t,e){let n=0,a=null,i=null;return function(...o){const l=Date.now(),r=l-n;if(r>=e)return n=l,t.apply(this,o);a={args:o,thisArg:this},i||(i=window.setTimeout(()=>{a&&(n=Date.now(),t.apply(a.thisArg,a.args),a=null),i=null;},e-r));}}const Te=vue.ref(false),vt=vue.ref();let be=null;const wt=async()=>{Te.value=true,await vue.nextTick(),be=Ve__namespace.init(vt.value),be.setOption({tooltip:{trigger:"item",formatter:function(t){return t.seriesName==="路径"?`(${Math.floor(t.data[0])}, ${Math.floor(t.data[1])})`:t.seriesName==="当前位置"?`(${Math.floor(t.data[0])}, ${Math.floor(t.data[1])})`:t.name}},xAxis:{show:false,min:"dataMin",max:"dataMax"},yAxis:{show:false,min:"dataMin",max:"dataMax"},grid:{left:"10px",top:"10px",right:"10px",bottom:"10px"},series:[]});};let Ce=[];const Wt=async t=>{const e=Ce.findIndex(n=>n.name==="当前位置");e!==-1?Ce[e].data=[[t.x,t.y]]:Ce.push({name:"当前位置",type:"scatter",data:[[t.x,t.y]],symbol:"pin",symbolSize:50,itemStyle:{color:"#EE2222"},label:{show:true,formatter:"队",position:"inside",color:"white"},emphasis:{disabled:true}}),be==null||be.setOption({series:Ce});},Yt=Gt(Wt,200),Ne=async(t,e)=>{if(Te.value||await wt(),!be)throw Error("echarts instance error");const n=t.filter(te);Ce=[{name:"路径",type:"line",data:n.map(({x:a,y:i})=>[a,i]),symbol:"circle",symbolSize:8},{name:"起点",type:"scatter",data:[[n[0].x,n[0].y]],symbol:"pin",symbolSize:50,itemStyle:{color:"green"},label:{show:true,formatter:"起",position:"inside",color:"white"},emphasis:{disabled:true}},{name:"终点",type:"scatter",data:[[n[n.length-1].x,n[n.length-1].y]],symbol:"pin",symbolSize:50,itemStyle:{color:"blue"},label:{show:true,formatter:"终",position:"inside",color:"white"},emphasis:{disabled:true}}],e&&Ce.push({name:"当前位置",type:"scatter",data:[[e.x,e.y]],symbol:"pin",symbolSize:50,itemStyle:{color:"#EE2222"},label:{show:true,formatter:"队",position:"inside",color:"white"},emphasis:{disabled:true}}),be.setOption({series:Ce});};window.showPathViewer=wt;window.setPathViewerData=Ne;let C,de=document.getElementById("zz-iframe-console");if(de){if(!de.contentWindow)throw new Error("iframe.contentWindow not found");C=de.contentWindow.console;}else {de=document.createElement("iframe"),de.id="zz-iframe-console",document.body.appendChild(de);const t=de.contentWindow;if(!t)throw new Error("contentWindow not found");C=t.console,de.style.display="none";}y.csl=C;(async()=>{var t,e;if(/mobile.+safari/ig.test(navigator.userAgent)){const n=await yt('img[src="https://ad-static.boomegg.cn/operation/image/IOS引导图.png"]');n&&(C.log("检测到引导图，移除引导图"),(e=(t=n.parentElement)==null?void 0:t.parentElement)==null||e.remove());}})();function at(t){return new Promise((e,n)=>{const a=document.createElement("textarea");a.value=t,a.style.position="fixed",a.style.left="-9999px",a.style.top="0",document.body.appendChild(a),a.select();try{const i=document.execCommand("copy");if(document.body.removeChild(a),i)console.log("复制成功"),e();else throw new Error("复制命令执行失败")}catch(i){document.body.removeChild(a),console.error("无法复制文本: ",i),n(i);}})}y.copyToClipboard=at;async function yt(t,e){e=e||3e4;const n=Date.now();for(;Date.now()<=n+e;){const a=document.querySelector(t);if(a)return a;await c(200);}return null}y.waitForDom=yt;function me(t){var k;const e=t.getComponent(y.cc.UITransformComponent);if(!e)throw new Error("uiTransform not found");const n=t.worldPosition,{width:a,height:i}=e.contentSize,o=a/2,l=i/2,r=new y.cc.Vec3(n.x-o,n.y+l,n.z),d=new y.cc.Vec3(n.x+o,n.y-l,n.z),s=(k=y.cc.find("Root/UIScene/UICamera"))==null?void 0:k.getComponent(y.cc.Camera);if(!s)throw new Error("camera not found");const u=s.worldToScreen(r),m=s.worldToScreen(d),h=document.querySelector("#GameCanvas");if(!h)throw new Error("domCanvas not found");const x=h.getBoundingClientRect(),P=x.width/h.width,B=x.height/h.height,H=u.x*P,R=(h.height-u.y)*B,p=m.x*P,M=(h.height-m.y)*B;return {x:x.left+H,y:x.top+R,width:p-H,height:M-R}}y.getUIDomPosition=me;let le=null,Be=null;function Ie(t,e){e=e||0,Be!==null&&(clearTimeout(Be),Be=null),le||(le=document.createElement("div"),le.style.cssText=`
        position: absolute;
        border: 2px solid red;
        pointer-events: none;
        z-index: 9999;
    `,document.body.appendChild(le)),le.style.left=t.x+"px",le.style.top=t.y+"px",le.style.width=Math.floor(t.width-4)+"px",le.style.height=Math.floor(t.height-4)+"px",le.style.display="block",e>0&&(Be=setTimeout(()=>{le&&(le.style.display="none"),Be=null;},e));}y.updateDebugRect=Ie;async function c(t){return new Promise(e=>{setTimeout(()=>{e();},t);})}y.delay=c;async function W(t,e,n){e=e||false,n=n||3e4;const a=Date.now();do{const i=g(t);if(i&&i.active&&i.activeInHierarchy)if(e){if(i.scale.x===1&&i.scale.y===1)return i}else return i;await c(20);}while(Date.now()<a+n);throw new Error(`find path: [${t}] timeout in ${n}ms`)}y.waitForNodeActive=W;async function ht(t,e,n){e=e||false,n=n||3e4;const a=Date.now();do{if(t&&t.active&&t.activeInHierarchy)if(e){if(t.scale.x===1&&t.scale.y===1)return t}else return t;await c(20);}while(Date.now()<a+n);throw new Error(`find node: [${_t(t)}] timeout in ${n}ms`)}y.waitForNodeActive2=ht;function ae(t,e){return Math.floor(Math.random()*(e-t+1))+t}y.random=ae;async function E(t,e){const n=me(t);await Ee(n,e);}y.nodePress=E;async function Ee(t,e){e=e||ae(100,300),Ie(t,e);const n=ae(t.x+t.width/4,t.x+t.width*3/4),a=ae(t.y+t.height/4,t.y+t.height*3/4),i=new MouseEvent("mousedown",{clientX:n,clientY:a}),o=document.querySelector("#GameCanvas");o==null||o.dispatchEvent(i),await c(e);const l=new MouseEvent("mouseup",{clientX:n,clientY:a});o==null||o.dispatchEvent(l),await c(e);}y.rectPress=Ee;async function Ke(t,e){e=e||ae(100,300);const n=me(t);Ie(n,e),t.emit(y.cc.Node.EventType.TOUCH_START),await c(e),t.emit(y.cc.Node.EventType.TOUCH_END),await c(e);}y.nodeEventPress=Ke;function g(t,e){e||(e=y.cc.director.getScene());const n=t.split("/");let a=e;for(const i of n){if(!a)break;const o=i.match(/(.+?)(?:\[(\d+)\])?$/);if(!o)continue;const l=o[1],r=o[2]?parseInt(o[2],10):-1,d=a.children;let s=null;if(r>=0){const u=d.filter(m=>m.name===l);if(r<u.length)s=u[r];else return C.error(`[findWithIndex] 索引超出范围：${l}[${r}]`),null}else s=a.getChildByName(l);a=s;}return a}y.ccFind=g;function De(t,e){const n=ot(e,300);return jt(t,n)}y.planPath=De;function ot(t,e){if(t.length===0)return [];const n=new Array(t.length).fill(false),a=[];for(let o=0;o<t.length;o++){if(n[o])continue;const l=[],r=[o];for(;r.length>0;){const d=r.shift();if(!n[d]){n[d]=true,l.push(t[d]);for(let s=0;s<t.length;s++)!n[s]&&_e(t[d],t[s])<=e&&r.push(s);}}a.push(l);}return a.map(o=>{let l=0,r=0;return o.forEach(d=>{l+=d.x,r+=d.y;}),{x:l/o.length,y:r/o.length}})}y.clusterMonsters=ot;function _e(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Xt(t,e,n){const a=t.x-e.x,i=t.y-e.y,o=n.x-e.x,l=n.y-e.y,r=a*o+i*l,d=o*o+l*l;let s=-1;d!==0&&(s=r/d);let u,m;s<0?(u=e.x,m=e.y):s>1?(u=n.x,m=n.y):(u=e.x+s*o,m=e.y+s*l);const h=t.x-u,x=t.y-m;return Math.sqrt(h*h+x*x)}function jt(t,e){if(e.length===0)return [];const n=[t],a=[...e];for(;a.length>0;){const i=n[n.length-1];let o=0,l=_e(i,a[0]);for(let r=1;r<a.length;r++){const d=_e(i,a[r]);d<l&&(l=d,o=r);}n.push(a[o]),a.splice(o,1);}return n.slice(1)}function it(){var n,a,i,o;const t=nt,e=[];for(let l=1;l<=3;l++){const r=`Root/UIScene/UICanvas/Content/PubMainView/Content/Panel/PubView/Content/Stage/HeroBox/hero${l}/Panel/HeroBox/PubHeroNode/Animation/Sprite`,d=(i=(a=(n=g(r))==null?void 0:n.getComponents(y.cc.Sprite)[0])==null?void 0:a.spriteFrame)==null?void 0:i.name;if(!d){e.push({id:"UNKOWN",name:"UNKOWN",quality:"UNKOWN"});continue}const s=(o=d.match(/^Hero(\d{5})/))==null?void 0:o[1];t[s]?e.push(t[s]):e.push({id:s,name:s,quality:"UNKOWN"});}return e}y.getBetCardHeroQuality=it;function oe(){const t=g("Root/GameScene/GameMapCanvas/MapView/TileMap/unitLayer/TeamUnit");if(!t)return null;const{x:e,y:n}=t.position;return {x:e,y:n}}y.getTeamPosition=oe;function ve(t,e,n,a){if(typeof n>"u"||typeof a>"u"){const o=oe();n=o.x,a=o.y;}return Math.sqrt(Math.pow(t-n,2)+Math.pow(e-a,2))<30}y.nearBy=ve;let pe;function Oe(){if(!pe&&(pe=document.querySelector("#GameCanvas"),!pe))throw new Error("canvasDom not found")}let ye=false,N=false;async function we(t,e,n=0){if(ye)throw new Error("正在移动，请勿重复调用");if(ve(t,e))return;ye=true,Oe();const a=pe.clientWidth,i=pe.clientHeight;let o=a/2+ae(-25,25),l=i*3/4+ae(-25,25);await c(10),Me(o,l),await c(10);const r=ae(60,110);await new Promise((d,s)=>{let u=[],h=0;const x=Date.now(),P=setInterval(()=>{try{const B=oe(),H=Math.sqrt(Math.pow(B.x-t,2)+Math.pow(B.y-e,2));C.log(`当前: (${Math.round(B.x)}, ${Math.round(B.y)}), 目标: (${Math.round(t)}, ${Math.round(e)}), 距离: ${Math.round(H)}`),Yt(B),u.push({x:Math.floor(B.x),y:Math.floor(B.y)}),u.length>5&&u.shift();const R=t-B.x,p=B.y-e,M=Math.sqrt(R*R+p*p),k=R/M*r,q=p/M*r,_=Math.round(o+k),v=Math.round(l+q);Date.now()-x>10*1e3&&(clearInterval(P),fe(_,v),ye=!1,s("moveToXY: 超时")),N&&(clearInterval(P),fe(_,v),N=!1,ye=!1,s("中断本次移动")),He(_,v),u.length===5&&(new Set(u.map(b=>`${b.x},${b.y}`)).size<=2?h++:h=0,h>=5&&(clearInterval(P),fe(_,v),ye=!1,n>=3?s("moveToXY: 卡住了，出不来"):(C.log("moveToXY: 似乎卡住了，准备重试"),setTimeout(()=>{we(t,e,n+1).then(d).catch(s);},800)))),ve(t,e)&&(clearInterval(P),fe(_,v),d());}catch(B){clearInterval(P),ye=false,s(B);}},100);}),ye=false;}y.moveToXY=we;function Me(t,e){Oe();const n=new MouseEvent("mousedown",{clientX:t,clientY:e});pe.dispatchEvent(n),Ie({x:t-4,y:e-4,width:7,height:7},102);}y.eventDown=Me;function He(t,e){Oe();const n=new MouseEvent("mousemove",{clientX:t,clientY:e});pe.dispatchEvent(n),Ie({x:t-4,y:e-4,width:7,height:7},102);}y.eventMove=He;function fe(t,e){Oe();const n=new MouseEvent("mouseup",{clientX:t,clientY:e});pe.dispatchEvent(n),Ie({x:t-4,y:e-4,width:7,height:7},102);}y.eventUp=fe;async function lt(t){var m,h,x,P,B,H,R,p,M;const e=Ge();if(N)throw N=false,Error("点击中断");await Ee(e);let n=null;if(t.target[0]==="英雄大陆"?n="Root/UIScene/UICanvas/Popup/TeleportSelectView/TabPagePanel/Bg/TabPanel/TabPageBtn1":t.target[0]==="无尽深渊"&&(n="Root/UIScene/UICanvas/Popup/TeleportSelectView/TabPagePanel/Bg/TabPanel/TabPageBtn2"),!n)throw Error(`${t.target[0]} is not valid value`);await c(200);const a=await W(n,true,3e3);if(N)throw N=false,Error("点击中断");await E(a);let i=null;t.target[0]==="英雄大陆"?i="Root/UIScene/UICanvas/Popup/TeleportSelectView/TabPagePanel/Bg/Panel/Panel1/PlaceScrollView/view/content":t.target[0]==="无尽深渊"&&(i="Root/UIScene/UICanvas/Popup/TeleportSelectView/TabPagePanel/Bg/Panel/Panel2/PlaceScrollView/view/content");let o=(m=g(i))==null?void 0:m.children.find(k=>{const q=g("PlaceName",k);return q?q.getComponent(y.cc.Label).string===t.target[1]:false});if(t.target[0]==="无尽深渊"&&!o){const k=(h=g(i))==null?void 0:h.children,q=me(k[k.length-2]),_={x:q.x+q.width/2,y:q.y+q.height/2};if(N)throw N=false,Error("点击中断");Me(_.x,_.y),await c(200),He(_.x,Math.max(_.y-500,1)),await c(500),fe(_.x,Math.max(_.y-500,1)),await c(500),o=(x=g(i))==null?void 0:x.children.find(v=>{const A=g("PlaceName",v);return A?A.getComponent(y.cc.Label).string===t.target[1]:false});}if(!o)throw Error(`${t.target[1]} is not valid value`);if(N)throw N=false,Error("点击中断");await Ke(o),await c(500);let l=null;t.target[0]==="英雄大陆"?l="Root/UIScene/UICanvas/Popup/TeleportSelectView/TabPagePanel/Bg/Panel/Panel1/TeleportScrollView/view/content":t.target[0]==="无尽深渊"&&(l="Root/UIScene/UICanvas/Popup/TeleportSelectView/TabPagePanel/Bg/Panel/Panel2/TeleportScrollView/view/content");let r=(P=g(l))==null?void 0:P.children.sort((k,q)=>q.worldPosition.y-k.worldPosition.y);if(!r)throw Error(`${t.target[2]} is not valid value[1]`);let d=r.find(k=>{const q=g("Name",k);return (q==null?void 0:q.getComponent(y.cc.Label).string)===t.target[2]});if(!d){if(r.length<6)throw Error(`${t.target[2]} is not valid value[2]`);let k=true;for(;k;){const q=me(r[r.length-2]),_={x:Math.floor(q.x+q.width/2),y:Math.floor(q.y+q.height/2)},v=me(r[0]),A={x:v.x+v.width/2,y:v.y+v.height/2};if(C.log("右侧翻页"),N)throw N=false,Error("点击中断");Me(_.x,_.y),await c(500),He(A.x,A.y),await c(500),fe(A.x,A.y),await c(500);const b=(H=(B=g("Name",r[r.length-1]))==null?void 0:B.getComponent(y.cc.Label))==null?void 0:H.string;if(r=(R=g(l))==null?void 0:R.children.sort((S,j)=>j.worldPosition.y-S.worldPosition.y),d=r.find(S=>{const j=g("Name",S);return (j==null?void 0:j.getComponent(y.cc.Label).string)===t.target[2]}),d)break;const U=(M=(p=g("Name",r[r.length-1]))==null?void 0:p.getComponent(y.cc.Label))==null?void 0:M.string;if(b===U){k=false,C.error("翻到最后了，没有找到");break}}}if(!d)throw Error(`${t.target[2]} is not valid value[3]`);let s=oe();if(s.x=Math.floor(s.x),s.y=Math.floor(s.y),N)throw N=false,Error("点击中断");await Ke(d),await c(500);const u=Date.now();for(;Date.now()-u>3e4;){await c(500);const k=oe();if(k&&(k.x=Math.floor(k.x),k.y=Math.floor(k.y),k.x!==s.x||k.y!==s.y))break}if(N)throw N=false,Error("点击中断");await W("Root/GameScene/OperationCanvas/MapButtonView/BuildingButton01"),await c(200);}y.teleport=lt;async function ze(t,e=false){if(t.length<2)throw new Error("路径至少需要2个点");const n=oe();if(!n)throw new Error("无法获取当前位置");const{segmentIndex:a,minDistance:i}=Fe(n,t);let o=a+1;i>3e3&&(o=0),Ne(Je(o,t));for(let l=o;l<t.length;l=e?(l+1)%t.length:l+1){const r=t[l];Ne(Je(l,t)),te(r)?await we(r.x,r.y):r.type==="backHome"?await We():r.type==="teleport"&&await lt(r),await Ct(["Idle","Gather","Move"]),await c(200);}}y.movePath=ze;function Je(t,e){let n=t;for(;n>0&&te(e[n]);)n--;let a=t;for(;a<e.length-1&&te(e[a]);)a++;return e.slice(n,a+1)}async function Ae(t,e,n=false){if(t.length<2)throw new Error("路径至少需要2个点");for(;e.value;){const a=t.map(h=>({...h})),i=g("/Root/GameScene/GameMapCanvas/MapView/TileMap/unitLayer").children.filter(h=>{var x,P,B;if(/^Monster|^Boss/i.test(h.name)){const H=(B=(P=(x=g("Animation/Sprite",h))==null?void 0:x.getComponent(y.cc.Sprite))==null?void 0:P.spriteFrame)==null?void 0:B.name;if(H&&!/[\-_]Die/i.test(H))return  true}return  false}).map(h=>({x:h.position.x,y:h.position.y})),o=ot(i,100);C.log("clusterPts",o),o.forEach(h=>{const{segmentIndex:x,minDistance:P}=Fe(h,a);if(P<510&&P>180)a.splice(x+1,0,h);else if(P<=180&&x<a.length-1){const B=a[x],H=a[x+1];if(!te(B)||!te(H))return;const R=_e(h,B),p=_e(h,H);R>=180&&p>=180&&a.splice(x+1,0,h);}});const l=oe(),{segmentIndex:r,minDistance:d}=Fe(l,a);let s;const u=a[0];if(n&&te(u)&&ve(l.x,l.y,u.x,u.y))s=1;else {for(d>=3e3?s=0:s=r+1;s<a.length;){const h=a[s];if(!te(h)||!ve(l.x,l.y,h.x,h.y))break;s++;}if(n&&s>=a.length)s=0;else if(s>=a.length)break}C.log("path",t),C.log("newPath",a),C.log("startIndex",s),C.log("currentPos",l),C.log("nextPos",a[s]),Ne(Je(s,a));const m=a[s];if(te(m)?await we(m.x,m.y):m.type==="backHome"?await We():m.type==="teleport"&&await lt(m),!n&&!te(m)&&s===a.length-1)break;await Ct(["Idle","Gather","Move"]),await c(200);}}y.movePathWithMonster=Ae;function gt(t){const e=new RegExp(t.join("|"),"i");return !g("/Root/GameScene/GameMapCanvas/MapView/TileMap/unitLayer").children.filter(n=>{var a,i,o;if(/^HeroUnit/i.test(n.name)){const l=(o=(i=(a=g("Animation/Sprite",n))==null?void 0:a.getComponent(y.cc.Sprite))==null?void 0:i.spriteFrame)==null?void 0:o.name;if(!e.test(l))return  true}return  false}).length}async function Ct(t,e=15e3){const n=Date.now();for(;;){if(N)throw N=false,Error("点击中断");let a=false;const i=Date.now();for(;!a&&gt(t);){if(Date.now()-i>=120){a=true;break}await c(100);}if(a){C.log(`等待英雄状态${t}完成`);break}if(Date.now()-n>e){C.error("等待英雄状态超时");break}await c(30);}}function Fe(t,e){let n=1/0,a=-1;for(let i=0;i<e.length-1;i++){const o=e[i],l=e[i+1];if(!te(o)||!te(l))continue;_e(o,l);const r=Xt(t,o,l);r<n&&(n=r,a=i);}return {segmentIndex:a,minDistance:n}}y.getPathStartIndex=Fe;function X(){N=true,setTimeout(()=>{N=false;},5e3);}y.setMoveInterrupt=X;async function bt(t,e,n){n=n||3e4;const a=Date.now();do{try{if(ve(t,e))return !0}catch{}await c(500);}while(Date.now()<a+n);throw new Error(`等待坐标(${Math.floor(t)}, ${Math.floor(e)})超时`)}y.waitForPosition=bt;async function Ze(t,e){e=e||3e4;const n=Date.now();do{try{for(let a=0;a<t.length;a++){const{x:i,y:o}=t[a];if(ve(i,o))return a}}catch{}await c(500);}while(Date.now()<n+e);return  -1}y.waitForPositions=Ze;function Ge(){const t=document.querySelector("#GameCanvas"),e=g("Root/GameScene/OperationCanvas/MapButtonView/");if(!e)throw new Error("mapButtonView not found");const n=e.children.filter(a=>a.active&&a.activeInHierarchy).map(a=>{const i=me(a);i.y-=i.height/2;const o=t.clientWidth/2+i.width/2,l=t.clientHeight/2-i.height*3/2;return {ele:a,distance:Math.sqrt((i.x-o)**2+(i.y-l)**2),...i}}).sort((a,i)=>a.distance-i.distance);if(n&&!n.length)throw new Error("未找到中心放大镜");return n[0]}y.getNearestMagnifierRect=Ge;async function We(){const t=g("Root/UIScene/UICanvas/Menu/MenuView/SaveArea/DownRight/BackHomeMenuIconView");if(t&&t.active){if(N)throw N=false,Error("点击中断");await E(t);try{const e=await W("Root/UIScene/UICanvas/Popup/ConfirmPopup/Popup/PanelHasTitle/Panel/BtnLay/BigButtonGreen",!0,3e3);if(await c(200),N)throw N=!1,Error("点击中断");await E(e),await c(200);}catch{C.error("未找到确认按钮，可能无需确认就直接回城了");}await bt(-7089,-5605),await W("Root/GameScene/OperationCanvas/MapButtonView/BuildingButton01");}else try{await we(-7089,-5605);}catch(e){throw alert("返回城镇失败"),e}}y.backHome=We;function Pt(t,e,n=[]){t.hasEventListener(e)&&n.push(t);const a=t.children;for(let i=0;i<a.length;i++)Pt(a[i],e,n);return n}const xt=()=>Pt(y.cc.director.getScene(),y.cc.Node.EventType.TOUCH_END);y.getAllHasTouchEventNode=xt;const Kt=()=>{C.log(xt().map(t=>_t(t)).join(`
`));};y.printAllHasTouchEventNode=Kt;const Jt=()=>{};y.test=Jt;function _t(t){let e=t.name,n=t.parent;for(;n;)e=`${n.name}/${e}`,n=n.parent;return e}let he=null;function It(){he&&(he.innerHTML="");}function St(t){he||(he=document.createElement("div"),he.style.cssText=`
            position: fixed;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            pointer-events: none;
            z-index: 9998;
        `,document.body.appendChild(he)),It(),t.forEach(e=>{const n=document.createElement("div");n.style.cssText=`
            position: absolute;
            width: 0;
            height: 0;
            border-left: 10px solid transparent;
            border-right: 10px solid transparent;
            border-bottom: 30px solid rgba(255, 94, 0, 0.95);
            transform-origin: center bottom;
        `;const a=Math.atan2(e.y,e.x)*180/Math.PI;n.style.transform=`rotate(${a}deg) translateY(-50px)`,he.appendChild(n);});}y.setDirectAssists=St;y.clearDirectAssists=It;const $=vue.ref(false),ge=vue.ref(false),Z=vue.ref(""),Q=vue.ref();async function Zt(){const t=["Root/UIScene/UICanvas/Content/PubMainView/Content/Panel/PubView/Content/Stage/HeroBox/hero1/Panel/HeroBox/Ribbon_down","Root/UIScene/UICanvas/Content/PubMainView/Content/Panel/PubView/Content/Stage/HeroBox/hero2/Panel/HeroBox/Ribbon_down","Root/UIScene/UICanvas/Content/PubMainView/Content/Panel/PubView/Content/Stage/HeroBox/hero3/Panel/HeroBox/Ribbon_down"],e=8e3+Date.now();for(;Date.now()<e;){for(let n=0;n<t.length;n++){const a=g(t[n]);if(a&&a.active&&a.activeInHierarchy)return n}await c(200);}return  -1}const Bt=()=>{const t=it();let e=false;const n=G("betCardTripleList",[]);for(let a=0;a<t.length;a++){for(let i=0;i<n.length;i++){const[o,l]=n[i].split(":");if((o==="id"||o==="quality")&&t[a][o]===l){e=true;break}}if(e)break}return e};async function Qt(){var e;let t=1;for(;t--;)try{const n=g("Root/UIScene/UICanvas/Top/SystemConfirmPopupView/Popup/PanelHasTitle/Panel/noTipToggle/Floor"),a=g("Root/UIScene/UICanvas/Top/SystemConfirmPopupView/Popup/PanelHasTitle/Panel/BtnLay/BigButtonGreen");if(n&&n.active&&n.activeInHierarchy){if(!$.value)return;await E(n),await c(200);}if(a&&a.active&&a.activeInHierarchy){if(!$.value)return;await E(a),await c(200);}const i=await W("/Root/UIScene/UICanvas/Content/PubMainView/Content/Panel/PubView/Content/Stage/BottomLayout/PubRecruitButtonView/ButtonBox/BigButtonHasProp",!0),l=((e=g("Root/UIScene/UICanvas/Content/PubMainView/Content/Panel/PubView/Content/Stage/BottomLayout/PubRecruitButtonView/ButtonBox/BigButtonHasProp/Img/PropNode/Icon"))==null?void 0:e.getComponents(y.cc.Sprite)[0]).targetFramePath;let r=g("/Root/UIScene/UICanvas/Content/PubMainView/Content/Panel/PubView/Content/Stage/BottomLayout/PubRecruitButtonView/LabelBox/GiveUpButton");if(l==="System/Currency/ResourceIcon/88/spriteFrame")r&&(!r.active||!r.activeInHierarchy)&&await W("/Root/UIScene/UICanvas/Content/PubMainView/Content/Panel/PubView/Content/Stage/BottomLayout/PubRecruitButtonView/LabelBox/GiveUpButton");else if(l!=="System/Currency/ResourceIcon/1/spriteFrame")throw new Error("未知的抽卡按钮");if(await c(50),r&&r.active&&r.activeInHierarchy){if(!$.value)return;await E(r),C.log("点击放弃"),t++;}else {const d=Bt(),s=it();if(d){if(!$.value)return;const m=await W("/Root/UIScene/UICanvas/Content/PubMainView/Content/Panel/PubView/Content/Stage/BottomLayout/PubRecruitButtonView/BetNode/maxButton",!0);if(!$.value||(await c(50),m&&await E(m),await c(200),!$.value))return;await E(i);}else {if(!$.value)return;await E(i);}const u=await Zt();if(u!==-1){let m=G("betCardLog","");const h=`[抽卡][${d?"三倍":"普通"}]	([${s[0].quality}][${s[0].name}],[${s[1].quality}][${s[1].name}],[${s[2].quality}][${s[2].name}])	抽中[${u+1}][${s[u].quality}][${s[u].name}]`;C.log(h),m+=h+`
`,ge.value&&Q.value&&(Z.value=m,vue.nextTick(()=>{if(Q.value){const x=Q.value.scrollLeft;Q.value.scrollTo(0,Q.value.scrollHeight),Q.value.scrollLeft=x;}})),K("betCardLog",m);}}await c(200);}catch(n){C.error(n),await c(200);}}let $e=true;const en=()=>{$e=true;},je=()=>{var n;const t=(n=g("Root/UIScene/UICanvas/Popup/PubAutoRecruitDisplayView/Content/rewardBg/ScrollView/view/content"))==null?void 0:n.children.map(a=>{var l,r;const i=(r=(l=g("Content/propItem/content/propIcon",a))==null?void 0:l.getComponent(y.cc.Sprite))==null?void 0:r.targetFramePath,o=i==null?void 0:i.match(/HeroIcon\/(\d+?)\//);return (o==null?void 0:o[1])||"UNKNOWN"}).map(a=>{let i="";if(a!=="UNKNOWN"){const o=nt[a];o?i=`[抽卡][自动]	([.][.],[.][.],[.][.])	抽中[.][${o.quality}][${o.name}]`:i="[抽卡][自动]	([.][.],[.][.],[.][.])	抽中[.][UNKNOWN][UNKNOWN]";}return i}).join(`
`);let e=G("betCardLog","");e+=t+`
`,ge.value&&Q.value&&(Z.value=e,vue.nextTick(()=>{if(Q.value){const a=Q.value.scrollLeft;Q.value.scrollTo(0,Q.value.scrollHeight),Q.value.scrollLeft=a;}})),C.log(t),K("betCardLog",e);},tn=async()=>{var t,e,n,a,i;if($e)for(;;){if(!$.value)return;if(((e=(t=g("Root/UIScene/UICanvas/Top/ToastPopup/center/LabelToastItem/txt"))==null?void 0:t.getComponent(y.cc.Label))==null?void 0:e.string)==="符合筛选条件的英雄已经出现"){const P=g("Root/UIScene/UICanvas/Popup/PubAutoRecruitSettingView/Content/Popup/Bottom/CloseTips");if(P&&P.active&&P.activeInHierarchy){if(!$.value)return;await c(50),await E(P),await c(200);return}await c(200);return}const o=g("Root/UIScene/UICanvas/Popup/ConfirmPopup/Popup/PanelHasTitle/Panel/BtnLay/BigButtonGreen");if(o&&o.active&&o.activeInHierarchy){if(je(),!$.value)return;await c(50),await E(o),await c(200);return}const l=g("Root/UIScene/UICanvas/Popup/PubAutoRecruitDisplayView/Content/rewardBg/Bottom/closeTip");if(l&&l.active&&l.activeInHierarchy){const P=(n=l.getComponent(y.cc.Label))==null?void 0:n.string;if(P&&P.includes("今日已达自动招募上限")){if(je(),!$.value)return;await c(50),await E(l),await c(200),$e=false;return}if(P&&P.includes("当次招募次数已满，请再次操作招募。")){if(je(),!$.value)return;await E(l),await c(50),await c(500);continue}}const r=g("Root/UIScene/UICanvas/Top/SystemConfirmPopupView/Popup/PanelHasTitle/Panel/noTipToggle/Floor"),d=g("Root/UIScene/UICanvas/Top/SystemConfirmPopupView/Popup/PanelHasTitle/Panel/BtnLay/BigButtonGreen");if(r&&r.active&&r.activeInHierarchy){if(!$.value)return;await c(50),await E(r),await c(200);}if(d&&d.active&&d.activeInHierarchy){if(!$.value)return;await c(50),await E(d),await c(200);continue}let s=g("/Root/UIScene/UICanvas/Content/PubMainView/Content/Panel/PubView/Content/Stage/BottomLayout/PubRecruitButtonView/LabelBox/GiveUpButton");if(s&&s.active&&s.activeInHierarchy&&await W("/Root/UIScene/UICanvas/Content/PubMainView/Content/Panel/PubView/Content/Stage/BottomLayout/PubRecruitButtonView/ButtonBox/BigButtonHasProp",true)){if(!$.value)return;await c(50),await E(s),await c(200);continue}const u=g("Root/UIScene/UICanvas/Content/PubMainView/Content/Panel/PubView/Content/Stage/HeroBox/hero3/Panel/HeroBox/PubHeroNode/Animation/Sprite");if(u&&u.active&&u.activeInHierarchy){const P=g("/Root/UIScene/UICanvas/Content/PubMainView/Content/Panel/PubView/Content/Stage/BottomLayout/PubRecruitButtonView/ButtonBox/BigButtonHasProp");if(P&&P.active&&P.activeInHierarchy&&Bt())return}const m=(i=(a=g("Root/UIScene/UICanvas/Popup/PubAutoRecruitSettingView/Content/Popup/Bottom/RemainTimesBox/remainTimesLabel"))==null?void 0:a.getComponent(y.cc.Label))==null?void 0:i.string;if(m&&parseInt(m)===0){$e=false;const B=g("Root/UIScene/UICanvas/Popup/PubAutoRecruitSettingView/Content/Popup/Bottom/CloseTips");if(B&&B.active&&B.activeInHierarchy){if(!$.value)return;await c(50),await E(B),await c(500);}return}const h=g("Root/UIScene/UICanvas/Popup/PubAutoRecruitSettingView/Content/Popup/Bottom/BigButtonGreen/Img");if(h&&h.active&&h.activeInHierarchy){if(!$.value)return;await c(50),await E(h),await c(500);continue}const x=g("Root/UIScene/UICanvas/Content/PubMainView/Content/Panel/PubView/Content/Stage/BottomLayout/PubRecruitButtonView/ButtonBox/SettingBox/recruitSettingBtn");if(x&&x.active&&x.activeInHierarchy){if(!$.value)return;await c(50),await E(x),await c(500);continue}await c(200);}},nn={class:"dialog-footer"},an={class:"dialog-footer"},on={class:"statisticsContainer"},ln={class:"importLogContainer"},rn={class:"dialog-footer"},sn=vue.defineComponent({__name:"BetCardBtn",setup(t){const e=async()=>{$.value=!$.value,C.log(`自动抽卡: ${$.value?"开":"关"}`),en();try{for(;$.value;)G("betCardAutoRecruit")&&(await tn(),await c(500)),await Qt(),await c(200);}catch(R){C.error(R),$.value=false;}},n=()=>{const R=G("betCardLog")||"";R&&(at(R),$t.ElMessage("复制成功"));},a=()=>{K("betCardLog",""),$t.ElMessage("已清空日志"),Z.value="";};vue.onUnmounted(()=>{$.value=false;});const i=vue.ref(false),o=vue.ref([]),l=vue.ref(false);G("betCardTripleList")||K("betCardTripleList",["quality:红"]),G("betCardAutoRecruit")||K("betCardAutoRecruit",false);const r=()=>{o.value=G("betCardTripleList"),l.value=G("betCardAutoRecruit");},d=()=>{K("betCardTripleList",o.value),K("betCardAutoRecruit",l.value),$t.ElMessage("设置已保存"),i.value=false;},s=vue.ref(false),u=vue.ref(""),m=()=>{Z.value=u.value,K("betCardLog",Z.value),s.value=false,$t.ElMessage("已导入日志"),u.value="";},h=()=>{Z.value.trimEnd,Z.value=Z.value.trimEnd()+`
`+u.value.trimStart(),K("betCardLog",Z.value),s.value=false,$t.ElMessage("已导入日志"),u.value="";},x=vue.ref(false),P=vue.ref(),B=vue.ref(),H=async()=>{var b;x.value=true,await vue.nextTick();const R=Ve__namespace.init(P.value),p={},M={},k=Z.value.split(/\r?\n/);for(let U of k){const S=U.split("	"),j=(b=S==null?void 0:S[2])==null?void 0:b.match(/\[\d\]\[(.+?)\]\[(.+?)\]/);if(j){const ue=j[1];p[ue]?p[ue]+=1:p[ue]=1;const ce=j[2];M[ce]?M[ce].value++:M[ce]={name:ce,quality:ue,value:1};}}const q=["灰","蓝","紫","橙","红"].map(U=>({name:U,value:p[U]||0}));R.setOption({title:{text:"品阶分布",left:"center"},tooltip:{trigger:"item",formatter:U=>`${U.name}: ${U.value}次`},color:["#999999","#0033CC","#9900FF","#FF9900","#FF0000"],legend:{orient:"horizontal",left:"left",bottom:30},series:[{name:"品阶分布",type:"pie",radius:"40%",data:q,label:{show:true,formatter:U=>`${U.name}: ${U.percent}%`},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]});const _=Ve__namespace.init(B.value),v=["灰","蓝","紫","橙","红"].map(U=>({name:`品阶: ${U}`,path:`品阶: ${U}`,value:p[U]||0,children:Object.keys(M).filter(S=>M[S].quality===U).map(S=>({name:M[S].name,path:`品阶: ${U}/${M[S].name}`,value:M[S].value}))}));_.setOption({title:{text:"英雄分布",left:"center"},tooltip:{formatter:function(U){for(var S=U.value,j=U.treePathInfo,ue=[],ce=1;ce<j.length;ce++)ue.push(j[ce].name);return ['<div class="tooltip-title">'+Ve__namespace.format.encodeHTML(ue[ue.length-1])+"</div>","命中: "+Ve__namespace.format.addCommas(S)+" 次"].join("")}},series:[{name:"英雄分布",type:"treemap",visibleMin:0,leafDepth:1,drillDownIcon:"",width:"98%",height:"80%",label:{show:true,formatter:"{b}: {c}"},itemStyle:{borderColor:"#fff"},levels:A(),data:v}]});function A(){const U={"品阶: 灰":"#999999","品阶: 蓝":"#0033CC","品阶: 紫":"#9900FF","品阶: 橙":"#FF9900","品阶: 红":"#FF0000"};return [{color:v.sort((S,j)=>j.value-S.value).map(S=>U[S.name]),itemStyle:{borderColor:"#777",borderWidth:0,gapWidth:1},upperLabel:{show:false}},{itemStyle:{borderColor:"#555",borderWidth:1,gapWidth:1},emphasis:{itemStyle:{borderColor:"#ddd"}}}]}};return (R,p)=>{const M=vue.resolveComponent("el-button"),k=vue.resolveComponent("el-button-group"),q=vue.resolveComponent("el-tree-select"),_=vue.resolveComponent("el-form-item"),v=vue.resolveComponent("el-switch"),A=vue.resolveComponent("el-form"),b=vue.resolveComponent("el-dialog"),U=vue.resolveComponent("el-input");return vue.openBlock(),vue.createElementBlock(vue.Fragment,null,[vue.createVNode(k,{class:"group"},{default:vue.withCtx(()=>[vue.createVNode(M,{type:vue.unref($)?"primary":"default",size:"small",onClick:e},{default:vue.withCtx(()=>[vue.createTextVNode(" 抽卡: "+vue.toDisplayString(vue.unref($)?"开":"关"),1)]),_:1},8,["type"]),vue.createVNode(M,{size:"small",onClick:p[0]||(p[0]=S=>{r(),i.value=true;})},{default:vue.withCtx(()=>p[13]||(p[13]=[vue.createTextVNode("设置")])),_:1}),vue.createVNode(M,{size:"small",onClick:p[1]||(p[1]=S=>{ge.value=true,Z.value=vue.unref(G)("betCardLog")||"";})},{default:vue.withCtx(()=>p[14]||(p[14]=[vue.createTextVNode("日志")])),_:1})]),_:1}),vue.createVNode(b,{class:"setting-dialog",modelValue:i.value,"onUpdate:modelValue":p[5]||(p[5]=S=>i.value=S),title:"抽卡设置",width:"min(calc(90vw), 450px)"},{footer:vue.withCtx(()=>[vue.createElementVNode("div",nn,[vue.createVNode(M,{size:"small",onClick:d,type:"primary"},{default:vue.withCtx(()=>p[15]||(p[15]=[vue.createTextVNode("保存")])),_:1}),vue.createVNode(M,{size:"small",onClick:p[4]||(p[4]=S=>i.value=false),type:"default"},{default:vue.withCtx(()=>p[16]||(p[16]=[vue.createTextVNode("关闭")])),_:1})])]),default:vue.withCtx(()=>[vue.createVNode(A,null,{default:vue.withCtx(()=>[vue.createVNode(_,{label:"三倍抽卡清单","label-width":140},{default:vue.withCtx(()=>[vue.createVNode(q,{class:"setting-dialog-select",placeholder:"选择需要三倍抽卡的英雄","check-on-click-node":"",multiple:"","check-strictly":"",modelValue:o.value,"onUpdate:modelValue":p[2]||(p[2]=S=>o.value=S),data:vue.unref(zt),"render-after-expand":false,"show-checkbox":""},null,8,["modelValue","data"])]),_:1}),vue.createVNode(_,{label:"优先使用自动招募","label-width":140},{default:vue.withCtx(()=>[vue.createVNode(v,{modelValue:l.value,"onUpdate:modelValue":p[3]||(p[3]=S=>l.value=S)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),vue.createVNode(b,{"before-close":S=>{S(),Z.value="";},class:"bet-card-log",modelValue:vue.unref(ge),"onUpdate:modelValue":p[8]||(p[8]=S=>vue.isRef(ge)?ge.value=S:null),title:"抽卡日志",width:"calc(90vw)"},{footer:vue.withCtx(()=>[vue.createElementVNode("div",an,[vue.createVNode(M,{size:"small",onClick:H,type:"warning"},{default:vue.withCtx(()=>p[17]||(p[17]=[vue.createTextVNode("统计")])),_:1}),vue.createVNode(M,{size:"small",onClick:p[6]||(p[6]=S=>s.value=true),type:"info"},{default:vue.withCtx(()=>p[18]||(p[18]=[vue.createTextVNode("导入")])),_:1}),vue.createVNode(M,{size:"small",onClick:n,type:"primary"},{default:vue.withCtx(()=>p[19]||(p[19]=[vue.createTextVNode("复制")])),_:1}),vue.createVNode(M,{size:"small",onClick:a,type:"danger"},{default:vue.withCtx(()=>p[20]||(p[20]=[vue.createTextVNode("清空")])),_:1}),vue.createVNode(M,{size:"small",onClick:p[7]||(p[7]=S=>ge.value=false),type:"default"},{default:vue.withCtx(()=>p[21]||(p[21]=[vue.createTextVNode("关闭")])),_:1})])]),default:vue.withCtx(()=>[vue.createElementVNode("pre",{ref_key:"logPreRef",ref:Q},vue.toDisplayString(vue.unref(Z)),513)]),_:1},8,["before-close","modelValue"]),vue.createVNode(b,{"destroy-on-close":"",modelValue:x.value,"onUpdate:modelValue":p[9]||(p[9]=S=>x.value=S),title:"抽卡统计",width:"min(calc(90vw), 450px)"},{default:vue.withCtx(()=>[vue.createElementVNode("div",on,[vue.createElementVNode("div",{style:{height:"min(calc(50%), 300px)",width:"calc(100%)"},ref_key:"statisticsRef1",ref:P},null,512),vue.createElementVNode("div",{style:{height:"min(calc(50%), 300px)",width:"calc(100%)"},ref_key:"statisticsRef2",ref:B},null,512)])]),_:1},8,["modelValue"]),vue.createVNode(b,{"destroy-on-close":"",modelValue:s.value,"onUpdate:modelValue":p[12]||(p[12]=S=>s.value=S),title:"导入日志",width:"calc(90vw)"},{footer:vue.withCtx(()=>[vue.createElementVNode("div",rn,[vue.createVNode(M,{size:"small",onClick:m,type:"primary"},{default:vue.withCtx(()=>p[22]||(p[22]=[vue.createTextVNode("覆盖导入")])),_:1}),vue.createVNode(M,{size:"small",onClick:h,type:"success"},{default:vue.withCtx(()=>p[23]||(p[23]=[vue.createTextVNode("新增导入")])),_:1}),vue.createVNode(M,{size:"small",onClick:p[11]||(p[11]=S=>{s.value=false,u.value="";}),type:"default"},{default:vue.withCtx(()=>p[24]||(p[24]=[vue.createTextVNode("关闭")])),_:1})])]),default:vue.withCtx(()=>[vue.createElementVNode("div",ln,[vue.createVNode(U,{modelValue:u.value,"onUpdate:modelValue":p[10]||(p[10]=S=>u.value=S),style:{width:"100%",height:"100%"},type:"textarea",placeholder:"请粘贴抽卡日志文本"},null,8,["modelValue"])])]),_:1},8,["modelValue"])],64)}}}),Ye=(t,e)=>{const n=t.__vccOpts||t;for(const[a,i]of e)n[a]=i;return n},un=Ye(sn,[["__scopeId","data-v-fbcb57d2"]]),re=vue.ref(false),Vt=async()=>{if(re.value=!re.value,C.log(`战神陵打肉: ${re.value?"开":"关"}`),re.value){const t=[{x:1533,y:1390},{x:790,y:1518},{x:187,y:1059},{x:-481,y:1265},{x:-1299,y:1188},{x:-1264,y:338},{x:-1188,y:-221},{x:-1032,y:-635},{x:-546,y:-124},{x:390,y:-11},{x:1484,y:-249},{x:1042,y:409},{x:1188,y:1058},{x:1837,y:1706}];try{await ze(t,!0),re.value=!1;}catch(e){C.error(e),re.value=false;}}else X();},cn=vue.defineComponent({__name:"CollectMeatZhanShenLingBtn",setup(t){const e=()=>{Vt();};return vue.onUnmounted(()=>{re.value=false,X();}),(n,a)=>{const i=vue.resolveComponent("el-button");return vue.openBlock(),vue.createBlock(i,{type:vue.unref(re)?"primary":"default",size:"small",onClick:e},{default:vue.withCtx(()=>[vue.createTextVNode(" 战神陵打肉: "+vue.toDisplayString(vue.unref(re)?"开":"关"),1)]),_:1},8,["type"])}}}),O=vue.ref(false),dt=()=>{var t;return (t=g("/Root/GameScene/GameMapCanvas/MapView/TileMap/unitLayer"))==null?void 0:t.children.filter(e=>{var n,a,i;if(/^Boss/i.test(e.name)){const o=(i=(a=(n=g("Animation/Sprite",e))==null?void 0:n.getComponent(y.cc.Sprite))==null?void 0:a.spriteFrame)==null?void 0:i.name;if(o&&!/[\-_]Die/i.test(o))return  true}return  false}).map(e=>({x:e.position.x,y:e.position.y}))},Ut=async()=>{if(O.value=!O.value,C.log(`F4打金币: ${O.value?"开":"关"}`),O.value)try{for(;;){if(!O.value)throw new Error("打金中断");await We(),await c(200);const t=Ge();if(!O.value)throw new Error("打金中断");await Ee(t);const e=await W("Root/UIScene/UICanvas/Popup/TeleportSelectView/TabPagePanel/Bg/Panel/Panel1/PlaceScrollView/view/content/PlaceItemView[7]");if(await c(200),!O.value)throw new Error("打金中断");await E(e);const n=await W("Root/UIScene/UICanvas/Popup/TeleportSelectView/TabPagePanel/Bg/Panel/Panel1/TeleportScrollView/view/content/TeleportSelectItemView[1]");if(await c(500),!O.value)throw new Error("打金中断");if(await E(n),await c(1500),await W("Root/GameScene/OperationCanvas/MapButtonView/BuildingButton01"),await c(200),!O.value)throw new Error("打金中断");await we(-10016,-3885);let a=dt();if(!a)throw new Error("boss位置获取失败");let i=oe();if(!i)throw new Error("队伍位置获取失败");let o=De(i,a);for(;a!=null&&a.length&&o.length;){const l=Date.now();if(!O.value)throw new Error("打金中断");if(await we(o[0].x,o[0].y),Date.now()-l>300?await c(ae(1e3,1500)):await c(ae(200,500)),a=dt(),!a)break;if(i=oe(),!i)throw new Error("队伍位置获取失败");o=De(i,a);}await c(1e3);}}catch(t){C.error(t),O.value=false;}else O.value=false,X();},dn=vue.defineComponent({__name:"CollectGoldenF4Btn",setup(t){const e=async()=>{Ut();};return vue.onUnmounted(()=>{O.value=false,X();}),(n,a)=>{const i=vue.resolveComponent("el-button");return vue.openBlock(),vue.createBlock(i,{type:vue.unref(O)?"primary":"default",size:"small",onClick:e},{default:vue.withCtx(()=>[vue.createTextVNode(" F4打金币: "+vue.toDisplayString(vue.unref(O)?"开":"关"),1)]),_:1},8,["type"])}}}),fn=vue.defineComponent({__name:"RoamBtn",setup(t){const e=vue.ref(false),n=async()=>{var a;if(e.value=!e.value,e.value)try{for(;;){const i=(a=g("/Root/GameScene/GameMapCanvas/MapView/TileMap/unitLayer"))==null?void 0:a.children.filter(d=>{var s,u,m;if(/^Monster|^Boss/i.test(d.name)){const h=(m=(u=(s=g("Animation/Sprite",d))==null?void 0:s.getComponent(y.cc.Sprite))==null?void 0:u.spriteFrame)==null?void 0:m.name;if(h&&!/[\-_]Die/i.test(h))return !0}return !1}).map(d=>d.position),o=oe();if(!o)throw new Error("队伍位置获取失败");if(!i)throw new Error("怪位置获取失败");const l=De(o,i);C.log(l);const r=Math.min(l.length,2);if(r===0)throw new Error("没找到怪");for(let d=0;d<r;d++){const s=Date.now();await we(l[d].x,l[d].y),Date.now()-s>300?await c(ae(2e3,3e3)):await c(ae(200,500));}await c(500);}}catch(i){C.error(i),e.value=false;}else X();};return vue.onUnmounted(()=>{e.value=false,X();}),(a,i)=>{const o=vue.resolveComponent("el-button");return vue.openBlock(),vue.createBlock(o,{type:e.value?"primary":"default",size:"small",onClick:n},{default:vue.withCtx(()=>[vue.createTextVNode(" 智能寻怪: "+vue.toDisplayString(e.value?"开":"关"),1)]),_:1},8,["type"])}}}),Ue=[[{x:2048,y:280},{x:1731,y:312},{x:1292,y:-200},{x:724,y:-536},{x:314,y:-806},{x:-271,y:-888},{x:-712,y:-877},{x:-1095,y:-575},{x:-850,y:-198},{x:-620,y:166},{x:-598,y:607},{x:-221,y:522}],[{x:235,y:1292},{x:5,y:727},{x:554,y:392},{x:1143,y:64},{x:567,y:-120},{x:9,y:-401},{x:-464,y:-449},{x:-858,y:-184},{x:-1281,y:73},{x:-1741,y:78}],[{x:455,y:-100},{x:954,y:-155},{x:1454,y:-109},{x:1878,y:-11},{x:2245,y:228},{x:2244,y:490},{x:1835,y:743},{x:1331,y:1053},{x:848,y:1305},{x:354,y:1569},{x:-43,y:1623},{x:-282,y:1238},{x:-752,y:950},{x:-1124,y:931},{x:-460,y:477},{x:-950,y:272}],[{x:1372,y:280},{x:703,y:83},{x:862,y:-293},{x:340,y:-137},{x:484,y:-534},{x:-77,y:-347},{x:-612,y:-544},{x:-914,y:-479},{x:-603,y:-879},{x:-887,y:-990},{x:-509,y:-828},{x:-194,y:-938},{x:329,y:-1115}]],mn=vue.defineComponent({__name:"RoamPathBtn",setup(t){const e=vue.ref(false),n=async()=>{if(e.value=!e.value,e.value)for(;;){if(!e.value)return;for(let a of Ue)try{if(ve(a[0].x,a[0].y))try{await ze(a);}catch(i){C.error(i),e.value=!1;}}catch(i){C.error(i),await c(2e3);}await c(1e3);}else X();};return vue.onUnmounted(()=>{e.value=false,X();}),(a,i)=>{const o=vue.resolveComponent("el-button");return vue.openBlock(),vue.createBlock(o,{type:e.value?"primary":"default",size:"small",onClick:n},{default:vue.withCtx(()=>[vue.createTextVNode(" 预定义路线: "+vue.toDisplayString(e.value?"开":"关"),1)]),_:1},8,["type"])}}}),pn=vue.defineComponent({__name:"DungeonBtn",setup(t){const e=vue.ref(false);let n=null,a=false;const i=async()=>{if(e.value=!e.value,n&&clearInterval(n),e.value)try{for(;;){if(!e.value)return;const o=g("Root/UIScene/UICanvas/Popup/DungeonPassView/content/TapHint");if(o&&o.active&&o.activeInHierarchy){if(C.log("副本结束"),n&&(clearInterval(n),n=null),!e.value)return;await E(o),await c(5e3);}if(!e.value)return;const l=g("Root/UIScene/UICanvas/Popup/DungeonCenterView/TabPagePanel/Bg/Panel/Panel1/BtnLayout/BtnEnter");if(await c(2e3),l&&l.active&&l.activeInHierarchy){if(C.log("进入副本"),!e.value||(await E(l),!e.value))return;let r=null;n=setInterval(()=>{var m,h,x,P;const s=(h=(m=g("Root/UIScene/UICanvas/Menu/DungeonMainView/BossNode/BossCount"))==null?void 0:m.getComponent(y.cc.LabelComponent))==null?void 0:h.string,u=(P=(x=g("Root/UIScene/UICanvas/Menu/DungeonMainView/MonsterNode/MonsterCount"))==null?void 0:x.getComponent(y.cc.LabelComponent))==null?void 0:P.string;C.log(`bossProc: ${s}, monsterProc: ${u}`),s==="1/1"&&u==="80/80"&&(a=!0,X());},500);try{r=await W("Root/UIScene/UICanvas/Popup/CommonGetWayView/BigPopup/closeTip",!0,2e3);}catch{}if(r)throw new Error("未知弹窗");if(!e.value)return;const d=await Ze(Ue.map(s=>s[0]));if(d===-1)throw new Error("路线未找到");await c(3e3);try{if(!e.value)return;throw C.log("开始副本第一层"),await Ae(Ue[d],e),C.log("结束复本第一层"),new Error("通过报错进入副本第二层")}catch(s){if(s instanceof Error&&s.message==="路线未找到"||s instanceof Error&&s.message==="中断本次移动"&&!a)throw s;if(a=!1,!e.value)return;const u=await Ze(Ue.map(m=>m[0]));if(await c(3e3),u===-1)throw new Error("路线未找到");if(!e.value)return;try{C.log("开始副本第二层"),await Ae(Ue[u],e);}catch(m){if(m instanceof Error&&m.message==="路线未找到"||m instanceof Error&&m.message==="中断本次移动"&&!a)throw m;a=!1;}C.log("结束复本第二层");}}await c(1e3);}}catch(o){C.error(o),e.value=false;}else X();};return vue.onUnmounted(()=>{e.value=false,X();}),(o,l)=>{const r=vue.resolveComponent("el-button");return vue.openBlock(),vue.createBlock(r,{type:e.value?"primary":"default",size:"small",onClick:i},{default:vue.withCtx(()=>[vue.createTextVNode(" 召唤副本: "+vue.toDisplayString(e.value?"开":"关"),1)]),_:1},8,["type"])}}}),vn={class:"dialog-footer"},wn=vue.defineComponent({__name:"ChestBtn",setup(t){const e=vue.ref(false),n=async()=>{if(e.value=!e.value,e.value)try{for(;;){if(!e.value||(await a(),!e.value))return;await c(1e3);}}catch(s){C.error(s),e.value=false;}};async function a(){var u;let s=1;for(;s--;){if(!e.value)return;const m=g("Root/UIScene/UICanvas/Popup/RewardDisplayView/empty/rewardBg/closeTip");if(m&&m.active&&m.activeInHierarchy){if(!e.value)return;if(await E(m),await c(1e3),s)continue;return}if(!e.value)return;const h=g("Root/UIScene/UICanvas/Popup/FunctionChestPreviewView/Panel/TextLayout/TextLeftCount");if(h&&h.active&&h.activeInHierarchy){if(!e.value)return;const P=(u=h.getComponent(y.cc.Label))==null?void 0:u.string;if(!P||!P.includes("/"))throw new Error("获取剩余次数失败");const[B,H]=P.split("/").map(R=>Number(R));if(B>G("AUTOCHEST_LEFTCOUNT",0)){if(!e.value)return;const R=g("Root/UIScene/UICanvas/Popup/FunctionChestPreviewView/Panel/BtnAd");if(G("AUTOCHEST_ADCLAIM",true)&&R&&R.active&&R.activeInHierarchy){if(!e.value)return;await E(R),await c(2e3),s+=2;continue}if(!e.value)return;const p=g("Root/UIScene/UICanvas/Popup/FunctionChestPreviewView/Panel/BtnDirectClaim");if(p&&p.active&&p.activeInHierarchy){if(!e.value)return;await E(p),await c(2e3),s++;continue}if(!e.value)return;const M=g("Root/UIScene/UICanvas/Popup/FunctionChestPreviewView/Panel/BtnClaim");if(M&&M.active&&M.activeInHierarchy){if(!e.value)return;await E(M),await c(2e3),s++;continue}}else throw new Error("已达到剩余次数上限，不领了")}let x=null;try{if(!e.value)return;x=Ge();}catch{}if(x&&gt(["Idle","Gather"])){if(!e.value)return;await Ee(x),await c(1e3),s++;continue}else s++;await c(1e3);}}const i=vue.ref(false),o=vue.ref(0),l=vue.ref(true),r=()=>{o.value=G("AUTOCHEST_LEFTCOUNT",0),l.value=G("AUTOCHEST_ADCLAIM",true),i.value=true;},d=()=>{K("AUTOCHEST_LEFTCOUNT",o.value),K("AUTOCHEST_ADCLAIM",l.value),$t.ElMessage("设置已保存"),i.value=false;};return vue.onUnmounted(()=>{e.value=false;}),(s,u)=>{const m=vue.resolveComponent("el-button"),h=vue.resolveComponent("el-button-group"),x=vue.resolveComponent("el-input"),P=vue.resolveComponent("el-form-item"),B=vue.resolveComponent("el-switch"),H=vue.resolveComponent("el-form"),R=vue.resolveComponent("el-dialog");return vue.openBlock(),vue.createElementBlock(vue.Fragment,null,[vue.createVNode(h,{class:"group"},{default:vue.withCtx(()=>[vue.createVNode(m,{type:e.value?"primary":"default",size:"small",onClick:n},{default:vue.withCtx(()=>[vue.createTextVNode(" 自动开箱: "+vue.toDisplayString(e.value?"开":"关"),1)]),_:1},8,["type"]),vue.createVNode(m,{onClick:r,size:"small"},{default:vue.withCtx(()=>u[4]||(u[4]=[vue.createTextVNode("设置")])),_:1})]),_:1}),vue.createVNode(R,{class:"setting-dialog",modelValue:i.value,"onUpdate:modelValue":u[3]||(u[3]=p=>i.value=p),title:"自动开箱设置",width:"300px"},{footer:vue.withCtx(()=>[vue.createElementVNode("div",vn,[vue.createVNode(m,{onClick:d,type:"primary"},{default:vue.withCtx(()=>u[5]||(u[5]=[vue.createTextVNode("保存")])),_:1}),vue.createVNode(m,{onClick:u[2]||(u[2]=p=>i.value=false),type:"default"},{default:vue.withCtx(()=>u[6]||(u[6]=[vue.createTextVNode("关闭")])),_:1})])]),default:vue.withCtx(()=>[vue.createVNode(H,{size:"small"},{default:vue.withCtx(()=>[vue.createVNode(P,{label:"留多少次不开","label-width":100},{default:vue.withCtx(()=>[vue.createVNode(x,{modelValue:o.value,"onUpdate:modelValue":u[0]||(u[0]=p=>o.value=p),autocomplete:"off",type:"number"},null,8,["modelValue"])]),_:1}),vue.createVNode(P,{label:"是否开广告","label-width":100},{default:vue.withCtx(()=>[vue.createVNode(B,{modelValue:l.value,"onUpdate:modelValue":u[1]||(u[1]=p=>l.value=p)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}}),yn=Ye(wn,[["__scopeId","data-v-ff7011a8"]]),hn=vue.defineComponent({__name:"RedPackBtn",setup(t){const e=vue.ref(false),n=async()=>{if(e.value=!e.value,e.value)for(;;)try{C.log("新一轮等待红包");const a=await W("Root/UIScene/UICanvas/Menu/MenuView/SaveArea/DownLeft/RedPacketMenuIconView/Btn");if(!e.value)return;if(a){re.value&&(C.log("检查到正在打肉，20秒后恢复执行打肉"),setTimeout(()=>{re.value?C.log("打肉正在执行，不恢复"):(C.log("尝试恢复执行打肉"),Vt());},2e4)),O.value&&(C.log("检查到正在打金，20秒后恢复执行打金"),setTimeout(()=>{O.value?C.log("打金正在执行，不恢复"):(C.log("尝试恢复执行打金"),Ut());},2e4)),await E(a),await c(500),C.log("抢红包");const o=await W("Root/UIScene/UICanvas/Popup/ActivityRedPacketOpenView/CommonBG2/packet/bg/openInfo/Hongbao_btn_open",!0,5e3);if(!e.value)return;if(o){await E(o),C.log("打开红包"),await c(800);const l=await W("Root/UIScene/UICanvas/Popup/ActivityRedPacketOpenView/CommonBG2/CloseTip",!1,2e3);if(!e.value)return;E(l);}}const i=g("Root/UIScene/UICanvas/Popup/ActivityRedPacketOpenView/CommonBG2/packet/bg/hasOpenInfo/status/over");if(!e.value)return;if(i&&i.active){C.log("红包领完了");const o=g("Root/UIScene/UICanvas/Popup/ActivityRedPacketOpenView/CommonBG2/CloseTip");if(!o)throw new Error("closeTipBtn not found");await E(o);}}catch(a){if(C.log(a),await c(1e3),!e.value)return}};return vue.onUnmounted(()=>{e.value=false;}),(a,i)=>{const o=vue.resolveComponent("el-button");return vue.openBlock(),vue.createBlock(o,{type:e.value?"primary":"default",size:"small",onClick:n},{default:vue.withCtx(()=>[vue.createTextVNode(" 自动抢红包: "+vue.toDisplayString(e.value?"开":"关"),1)]),_:1},8,["type"])}}}),gn=vue.defineComponent({__name:"PositionBtn",setup(t){const e=vue.ref("?"),n=vue.ref("?"),a=async()=>{const o=oe();if(!o)throw new Error("队伍位置获取失败");const l=`{ "x": ${Math.floor(o.x)}, "y": ${Math.floor(o.y)} }`;await at(l),$t.ElMessage("复制成功："+l);};let i=setInterval(()=>{try{const o=oe();if(o){e.value=Math.floor(o.x).toString(),n.value=Math.floor(o.y).toString();const l=g("/Root/GameScene/GameMapCanvas/MapView/TileMap/unitLayer").children.filter(r=>{var d,s,u;if(r.name.match(/MaterialUnit\d+_51122\d+/)){const m=(u=(s=(d=g("Sprite",r))==null?void 0:d.getComponents(y.cc.Sprite)[0])==null?void 0:s.spriteFrame)==null?void 0:u.name;return !!m&&!/die/i.test(m||"")}return !1}).map(r=>({y:r.position.x-o.x,x:r.position.y-o.y}));St(l);}else e.value="?",n.value="?";}catch{e.value="?",n.value="?";}},1e3);return vue.onUnmounted(()=>{clearInterval(i);}),(o,l)=>{const r=vue.resolveComponent("el-button");return vue.openBlock(),vue.createBlock(r,{size:"small",onClick:a},{default:vue.withCtx(()=>[vue.createTextVNode(" 坐标: ("+vue.toDisplayString(e.value)+", "+vue.toDisplayString(n.value)+") ",1)]),_:1})}}}),Cn=vue.defineComponent({__name:"FullScreenBtn",setup(t){const e=vue.ref(false),n=()=>{const r=document;return r.fullscreenElement||r.webkitFullscreenElement||r.msFullscreenElement},a=r=>{const d=r;return d.requestFullscreen?d.requestFullscreen():d.webkitRequestFullscreen?d.webkitRequestFullscreen():d.msRequestFullscreen?d.msRequestFullscreen():Promise.reject("不支持全屏API")},i=()=>{const r=document;return r.exitFullscreen?r.exitFullscreen():r.webkitExitFullscreen?r.webkitExitFullscreen():r.msExitFullscreen?r.msExitFullscreen():Promise.reject("不支持退出全屏API")},o=()=>{e.value=!!n();};vue.onMounted(()=>{document.addEventListener("fullscreenchange",o),document.addEventListener("webkitfullscreenchange",o),document.addEventListener("MSFullscreenChange",o);}),vue.onUnmounted(()=>{document.removeEventListener("fullscreenchange",o),document.removeEventListener("webkitfullscreenchange",o),document.removeEventListener("MSFullscreenChange",o);});const l=async()=>{try{n()?(await i(),e.value=!1):(await a(document.documentElement),e.value=!0);}catch(r){console.error("全屏错误:",r),$t.ElMessage.error(`全屏错误：${r}`);}};return (r,d)=>{const s=vue.resolveComponent("el-button");return vue.openBlock(),vue.createBlock(s,{type:e.value?"primary":"default",size:"small",onClick:l},{default:vue.withCtx(()=>[vue.createTextVNode(" 全屏: "+vue.toDisplayString(e.value?"开":"关"),1)]),_:1},8,["type"])}}}),bn=vue.defineComponent({__name:"BuildWoodenBoard",setup(t){const e=vue.ref(false),n=async()=>{if(!e.value){e.value=true;try{const a=g("bgParent/PlankLightItem/content/01",g("Root/UIScene/UICanvas/Popup/ActivityBuildPlankMainView/parent/bg/plankContent/moveParent/platformParent").children[0]),i={x:a.worldPosition.x,y:a.worldPosition.y},o=g("Root/UIScene/UICanvas/Popup/ActivityBuildPlankMainView/parent/bg/plankContent/moveParent/plankParent").children;let l=null;for(let h of o)if(l=h,!g("content/hor/1",l).active)break;let r=null,d=9999999999;const s=g("content/hor",l).children;for(let h of s){const x=h,P={x:x.children[0].worldPosition.x,y:x.children[0].worldPosition.y},B=Math.sqrt((P.x-i.x)**2+(P.y-i.y)**2);B<d&&(d=B,r=x.name),C.log(`name: ${x.name}, distance: ${B}`);}r=String(Number(r)),$t.ElMessage(`${r}个木板`);const u=g(`content/vec/${r}`,l),m=me(a);Me(m.x,m.y),await ht(u),fe(m.x,m.y),e.value=!1;}catch{e.value=false;}}};return vue.onUnmounted(()=>{e.value=false;}),(a,i)=>{const o=vue.resolveComponent("el-button"),l=vue.resolveComponent("el-button-group");return vue.openBlock(),vue.createBlock(l,{class:"group"},{default:vue.withCtx(()=>[vue.createVNode(o,{type:e.value?"primary":"default",size:"small",onClick:n},{default:vue.withCtx(()=>[vue.createTextVNode(" 搭木板（一次）: "+vue.toDisplayString(e.value?"开":"关"),1)]),_:1},8,["type"])]),_:1})}}}),Pn=Ye(bn,[["__scopeId","data-v-4e5d25e3"]]),Qe=[{id:"BetCardBtn",component:un,name:"自动抽卡",description:"可以进行自动抽卡"},{id:"BuildWoodenBoard",component:Pn,name:"搭木板",description:"勇闯火焰山活动，运行一次搭一次木板，只能在静态平台时运行，否则会计算错误"},{id:"CollectMeatZhanShenLingBtn",component:cn,name:"自动打肉（战神陵）",description:"在无尽深渊-熔火之境-战神陵绕圈打肉"},{id:"CollectGoldenF4Btn",component:dn,name:"自动打金币（F4）",description:"在英雄大陆-黑石堡垒-大厅楼道打4个boss获取金币、也可以在这里刷经验"},{id:"RoamBtn",component:fn,name:"智能寻怪",description:"实验性功能，查找附近的boss和小怪，并自动规划路线打怪，目前无法避障",hideInLite:true},{id:"RoamPathBtn",component:mn,name:"预定义路线",description:"实验性功能，启动时获取当前坐标与已知路线的起点比较，若匹配则以该路线进行行进",hideInLite:true},{id:"DungeonBtn",component:pn,name:"召唤副本",description:"打100级的召唤副本，打开召唤副本界面，选择好难度后运行可自动打副本，根据已知路线与附近怪物动动态实时规划路线，可保证任意阵容不漏怪打副本"},{id:"ChestBtn",component:yn,name:"自动开箱",description:"原地自动领宝箱，一般用于挂机boss领宝箱"},{id:"RedPackBtn",component:hn,name:"自动抢红包",description:"实时查找左下角红包按钮，出现了就抢红包，不一定能抢到"},{id:"FullScreenBtn",component:Cn,name:"全屏",description:"点击后申请全屏，以便移动端可以全屏游玩"},{id:"PositionBtn",component:gn,name:"坐标显示",description:"显示当前坐标，点击后可复制坐标，一般用于路线制作时的坐标获取"}],xn=()=>{const t=vue.ref(false);return {status:t,start:async n=>{if(t.value=!t.value,C.log(`动态路线[${n.name}]: ${t.value?"开":"关"}`),t.value){const a=n.path;try{n.dynamicMonster?await Ae(a,t,n.isCircle):await ze(a,n.isCircle),t.value=!1;}catch(i){C.error(i),t.value=false;}}else X();}}},_n=vue.defineComponent({__name:"DynamicPathBtn",props:{id:String},setup(t,{expose:e}){const{start:n,status:a}=xn(),i=t,o=vue.ref();vue.onMounted(()=>{l();}),vue.onUnmounted(()=>{a.value=false,X();});const l=()=>{if(X(),!i.id)throw Error("dynamic path btn id cannot be null");const d=Sn(i.id);if(!d)throw Error(`dynamic path [${i.id}] cannot be resolved`);o.value=d;},r=()=>{if(!o.value)throw Error(`dynamic path [${i.id}] cannot be resolved`);C.log("dynamic path config: ",o.value),n(o.value);};return e({loadConfig:l}),(d,s)=>{const u=vue.resolveComponent("el-button");return vue.openBlock(),vue.createBlock(u,{type:vue.unref(a)?"primary":"default",size:"small",onClick:r},{default:vue.withCtx(()=>{var m;return [vue.createTextVNode(vue.toDisplayString(((m=o.value)==null?void 0:m.name)||"动态按钮unkown")+": "+vue.toDisplayString(vue.unref(a)?"开":"关"),1)]}),_:1},8,["type"])}}}),et="component_config";function In(){return Qe.reduce((t,e)=>(t[e.id]={visible:true,order:Qe.indexOf(e)},t),{})}function Re(){let t=In();C.log("defaultConfig",t);let e=G(et,null);return e||(e=t,K(et,e)),e={...t,...e},C.log("savedConfig",e),e}function Sn(t){return Re()[t]||null}function Bn(t){const n={...Re()};for(const[a,i]of Object.entries(t))n[a]&&(n[a]={...n[a],...i});K(et,n);}function Tt(t=true){const e=Re();return Object.keys(e).sort((n,a)=>e[n].order-e[a].order).map(n=>{const a=e[n];if(a.path)return {component:_n,...a};{const i=Qe.find(o=>o.id===n);return i||(C.warn(`Component ${n} not found in funComponents`),null)}}).filter(n=>n?!t||t&&("hideInLite"in n?!n.hideInLite:true):false)}/*! Element Plus Icons Vue v2.3.1 */var Vn=vue.defineComponent({name:"InfoFilled",__name:"info-filled",setup(t){return (e,n)=>(vue.openBlock(),vue.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[vue.createElementVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}}),Un=Vn;const Mt="component_config";function Tn(t){const e=Et();C.log("config",e);let n=0;Object.keys(e).forEach(a=>{const i=t.find(o=>o.id===a);i?e[a]={...e[a],...i}:e[a].path&&delete e[a],e[a]&&n<e[a].order&&(n=e[a].order);}),t.forEach(a=>{e[a.id]||(e[a.id]={visible:false,order:n+1,...a});}),K(Mt,e);}function Mn(){const t=Et();return Object.keys(t).filter(e=>{var n;return (n=t[e])==null?void 0:n.path}).map(e=>{const n=t[e];return {id:n.id,name:n.name,description:n.description,path:n.path,isCircle:n.isCircle,dynamicMonster:n.dynamicMonster}})}function Et(){return G(Mt,{})}const En={class:"dialog-content"},Rn={class:"settings-list"},kn=["data-id"],Ln={class:"name-text"},qn={style:{"text-align":"right",margin:"0"}},$n=vue.defineComponent({__name:"ButtonSetting",props:{isLite:Boolean},emits:["saved"],setup(t,{emit:e}){const n=t,a=vue.ref([]),i=vue.ref("buttons"),o=vue.ref([]),l=vue.ref(null),r=vue.ref(false),d=vue.ref([]),s=vue.ref(false),u=vue.ref({}),m=vue.ref(window.innerWidth<=450);window.addEventListener("resize",()=>{m.value=window.innerWidth<=450;});const h=()=>{x(),s.value=true;},x=()=>{const _=Re();a.value=Tt(n.isLite),o.value=Mn(),d.value=new Array(o.value.length).fill(false),a.value.forEach(v=>{var A,b;u.value[v.id]={visible:((A=_[v.id])==null?void 0:A.visible)??false,order:((b=_[v.id])==null?void 0:b.order)??a.value.indexOf(v),name:v.name,description:v.description};});},P=e,B=()=>{try{Tn(o.value),x(),P("saved"),$t.ElMessage.success("路线保存成功");}catch(_){C.error("动态路线保存失败:",_),$t.ElMessage.error("动态路线保存失败");}},H=()=>{l.value={id:`dynamic_${Date.now()}`,name:"",description:"",path:[],pathStr:"[]",isCircle:false,dynamicMonster:false},r.value=true;},R=_=>{const v=JSON.parse(JSON.stringify(o.value[_]));v._index=_,v.pathStr=`[
${v.path.map(A=>`	${JSON.stringify(A)}`).join(`,
`)}
]`,v.id||(v.id=`dynamic_${Date.now()}`),l.value=v,r.value=true;},p=_=>{o.value.splice(_,1),B();},M=()=>{if(l.value)try{const _={...l.value};_.id||(_.id=`dynamic_${Date.now()}`),_.path=JSON.parse(l.value.pathStr||"[]"),delete _._index,delete _.pathStr,l.value._index!==void 0?o.value[l.value._index]=_:o.value.push(_),r.value=!1,B();}catch{$t.ElMessage.error("路线配置JSON格式错误");}},k=()=>{const _={};Object.entries(u.value).forEach(([v,A])=>{_[v]={visible:A.visible,order:A.order};}),Bn(_),s.value=false,P("saved");},q=()=>{vue.nextTick(()=>{const _=document.querySelector(".settings-list");_&&!_.getAttribute("data-sortable-initialized")&&(Ft.create(_,{animation:150,handle:".drag-handle",onEnd:v=>{Array.from(_.children).forEach((b,U)=>{const S=b.getAttribute("data-id");S&&(u.value[S].order=U);});}}),_.setAttribute("data-sortable-initialized","true"));});};return vue.watch(s,_=>{_&&q();}),(_,v)=>{const A=vue.resolveComponent("el-button-group");return vue.openBlock(),vue.createElementBlock(vue.Fragment,null,[vue.createVNode(vue.unref($t.ElButton),{size:"small",onClick:h},{default:vue.withCtx(()=>v[10]||(v[10]=[vue.createTextVNode("按钮设置")])),_:1}),vue.createVNode(vue.unref($t.ElDialog),{modelValue:s.value,"onUpdate:modelValue":v[9]||(v[9]=b=>s.value=b),title:"按钮设置",width:"400px",fullscreen:m.value,"append-to-body":""},{footer:vue.withCtx(()=>[i.value==="buttons"?(vue.openBlock(),vue.createElementBlock("div",{key:0,style:vue.normalizeStyle(m.value?"text-align: center":"")},[vue.createVNode(vue.unref($t.ElButton),{onClick:v[8]||(v[8]=b=>s.value=false)},{default:vue.withCtx(()=>v[20]||(v[20]=[vue.createTextVNode("取消")])),_:1}),vue.createVNode(vue.unref($t.ElButton),{type:"primary",onClick:k},{default:vue.withCtx(()=>v[21]||(v[21]=[vue.createTextVNode("保存")])),_:1})],4)):vue.createCommentVNode("",true)]),default:vue.withCtx(()=>[vue.createElementVNode("div",En,[vue.createVNode(vue.unref($t.ElTabs),{modelValue:i.value,"onUpdate:modelValue":v[7]||(v[7]=b=>i.value=b)},{default:vue.withCtx(()=>[vue.createVNode(vue.unref($t.ElTabPane),{label:"按钮选择",name:"buttons"},{default:vue.withCtx(()=>[vue.createElementVNode("div",Rn,[(vue.openBlock(true),vue.createElementBlock(vue.Fragment,null,vue.renderList(a.value,b=>{var U;return vue.openBlock(),vue.createElementBlock("div",{key:b.id,class:"setting-item","data-id":b.id,style:vue.normalizeStyle({opacity:(U=u.value[b.id])!=null&&U.visible?1:.6})},[v[11]||(v[11]=vue.createElementVNode("div",{class:"drag-handle"},"≡",-1)),vue.createVNode(vue.unref($t.ElCheckbox),{modelValue:u.value[b.id].visible,"onUpdate:modelValue":S=>u.value[b.id].visible=S},null,8,["modelValue","onUpdate:modelValue"]),vue.createElementVNode("span",Ln,vue.toDisplayString(u.value[b.id].name||b.id),1),b.description?(vue.openBlock(),vue.createBlock(vue.unref($t.ElPopover),{key:0,placement:"top",width:200,trigger:"hover"},{reference:vue.withCtx(()=>[vue.createVNode(vue.unref($t.ElButton),{size:"small",circle:""},{default:vue.withCtx(()=>[vue.createVNode(vue.unref($t.ElIcon),null,{default:vue.withCtx(()=>[vue.createVNode(vue.unref(Un))]),_:1})]),_:1})]),default:vue.withCtx(()=>[vue.createElementVNode("div",null,vue.toDisplayString(u.value[b.id].description),1)]),_:2},1024)):vue.createCommentVNode("",true)],12,kn)}),128))])]),_:1}),vue.createVNode(vue.unref($t.ElTabPane),{label:"动态路线",name:"paths"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref($t.ElButton),{type:"primary",onClick:H,size:"small",style:{float:"right","margin-bottom":"5px"}},{default:vue.withCtx(()=>v[12]||(v[12]=[vue.createTextVNode("添加路线")])),_:1}),vue.createVNode(vue.unref($t.ElTable),{data:o.value,border:""},{default:vue.withCtx(()=>[vue.createVNode(vue.unref($t.ElTableColumn),{prop:"name",label:"名称"}),vue.createVNode(vue.unref($t.ElTableColumn),{prop:"isCircle",label:"循环",align:"center",width:"60"},{default:vue.withCtx(({row:b})=>[vue.createVNode(vue.unref($t.ElCheckbox),{modelValue:b.isCircle,"onUpdate:modelValue":U=>b.isCircle=U,disabled:""},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),vue.createVNode(vue.unref($t.ElTableColumn),{prop:"dynamicMonster",align:"center",label:"动态打怪",width:"60"},{default:vue.withCtx(({row:b})=>[vue.createVNode(vue.unref($t.ElCheckbox),{modelValue:b.dynamicMonster,"onUpdate:modelValue":U=>b.dynamicMonster=U,disabled:""},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),vue.createVNode(vue.unref($t.ElTableColumn),{label:"操作",align:"center",width:"120"},{default:vue.withCtx(({$index:b})=>[vue.createVNode(A,null,{default:vue.withCtx(()=>[vue.createVNode(vue.unref($t.ElButton),{size:"small",onClick:U=>R(b)},{default:vue.withCtx(()=>v[13]||(v[13]=[vue.createTextVNode("编辑")])),_:2},1032,["onClick"]),vue.createVNode(vue.unref($t.ElPopover),{visible:d.value[b],placement:"top",width:"160"},{reference:vue.withCtx(()=>[vue.createVNode(vue.unref($t.ElButton),{size:"small",type:"danger",onClick:U=>d.value[b]=true},{default:vue.withCtx(()=>v[14]||(v[14]=[vue.createTextVNode(" 删除 ")])),_:2},1032,["onClick"])]),default:vue.withCtx(()=>[v[17]||(v[17]=vue.createElementVNode("p",null,"是否删除？",-1)),vue.createElementVNode("div",qn,[vue.createVNode(vue.unref($t.ElButton),{size:"small",onClick:U=>d.value[b]=false},{default:vue.withCtx(()=>v[15]||(v[15]=[vue.createTextVNode("取消")])),_:2},1032,["onClick"]),vue.createVNode(vue.unref($t.ElButton),{size:"small",type:"danger",onClick:U=>{p(b),d.value[b]=false;}},{default:vue.withCtx(()=>v[16]||(v[16]=[vue.createTextVNode("确定")])),_:2},1032,["onClick"])])]),_:2},1032,["visible"])]),_:2},1024)]),_:1})]),_:1},8,["data"]),vue.createVNode(vue.unref($t.ElDialog),{modelValue:r.value,"onUpdate:modelValue":v[6]||(v[6]=b=>r.value=b),title:"路线配置",width:"min(calc(90vw), 400px)"},{footer:vue.withCtx(()=>[vue.createVNode(vue.unref($t.ElButton),{onClick:v[5]||(v[5]=b=>r.value=false)},{default:vue.withCtx(()=>v[18]||(v[18]=[vue.createTextVNode("取消")])),_:1}),vue.createVNode(vue.unref($t.ElButton),{type:"primary",onClick:M},{default:vue.withCtx(()=>v[19]||(v[19]=[vue.createTextVNode("保存")])),_:1})]),default:vue.withCtx(()=>[l.value?(vue.openBlock(),vue.createBlock(vue.unref($t.ElForm),{key:0,"label-width":"100px"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref($t.ElFormItem),{class:"dynamic-btn-form-item",label:"名称"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref($t.ElInput),{modelValue:l.value.name,"onUpdate:modelValue":v[0]||(v[0]=b=>l.value.name=b)},null,8,["modelValue"])]),_:1}),vue.createVNode(vue.unref($t.ElFormItem),{class:"dynamic-btn-form-item",label:"描述"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref($t.ElInput),{modelValue:l.value.description,"onUpdate:modelValue":v[1]||(v[1]=b=>l.value.description=b),type:"textarea",rows:2},null,8,["modelValue"])]),_:1}),vue.createVNode(vue.unref($t.ElFormItem),{class:"dynamic-btn-form-item",label:"属性"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref($t.ElCheckbox),{label:"是否循环",modelValue:l.value.isCircle,"onUpdate:modelValue":v[2]||(v[2]=b=>l.value.isCircle=b)},null,8,["modelValue"]),vue.createVNode(vue.unref($t.ElCheckbox),{label:"动态打怪",modelValue:l.value.dynamicMonster,"onUpdate:modelValue":v[3]||(v[3]=b=>l.value.dynamicMonster=b)},null,8,["modelValue"])]),_:1}),vue.createVNode(vue.unref($t.ElFormItem),{class:"dynamic-btn-form-item",label:"路线配置(JSON)"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref($t.ElInput),{modelValue:l.value.pathStr,"onUpdate:modelValue":v[4]||(v[4]=b=>l.value.pathStr=b),type:"textarea",rows:8},null,8,["modelValue"])]),_:1})]),_:1})):vue.createCommentVNode("",true)]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])])]),_:1},8,["modelValue","fullscreen"])],64)}}}),Nn=vue.defineComponent({__name:"PathViewer",setup(t){return (e,n)=>{const a=vue.resolveComponent("el-dialog");return vue.openBlock(),vue.createBlock(a,{class:"path-viewer","modal-class":"path-viewer-modal",top:"0px",modelValue:vue.unref(Te),"onUpdate:modelValue":n[0]||(n[0]=i=>vue.isRef(Te)?Te.value=i:null),modal:false,"show-close":true,draggable:"",width:"200px","destroy-on-close":"","close-on-click-modal":false},{header:vue.withCtx(()=>n[1]||(n[1]=[vue.createElementVNode("span",null,"线路图",-1)])),footer:vue.withCtx(()=>n[2]||(n[2]=[])),default:vue.withCtx(()=>[vue.createElementVNode("div",{ref_key:"echartsRef",ref:vt,style:{width:"200px",height:"200px"}},"echarts显示区域",512)]),_:1},8,["modelValue"])}}}),Dn={class:"zz-sub-btns"},Hn=vue.defineComponent({__name:"App",props:{isLite:Boolean},setup(t){const e=vue.ref(),n=vue.ref(),a=vue.shallowRef([]),i=vue.ref({}),o=vue.ref({});vue.onMounted(()=>{d();});const l=()=>{var u,m;(u=e.value)==null||u.classList.toggle("zz-show"),(m=n.value)==null||m.classList.toggle("zz-rotate");},r=()=>{var u,m;n.value.style.display="none",(u=e.value)==null||u.classList.toggle("zz-show"),(m=n.value)==null||m.classList.toggle("zz-rotate"),setTimeout(()=>{n.value.style.display="block";},5e3);},d=()=>{o.value={},a.value=Tt(s.isLite),i.value=Re(),vue.nextTick(()=>{C.log("dynamicPathBtnRefs.value",o.value),vue.nextTick(()=>{Object.values(o.value).forEach(u=>{C.log(u),u==null||u.loadConfig();});});});},s=t;return (u,m)=>{const h=vue.resolveComponent("el-button-group");return vue.openBlock(),vue.createElementBlock("div",{ref_key:"btnContainer",ref:e,class:"zz-float-container"},[vue.createElementVNode("div",{ref_key:"btn",ref:n,onClick:l,class:"zz-float-btn",role:"button",tabindex:"0"},"+",512),vue.createElementVNode("div",Dn,[(vue.openBlock(true),vue.createElementBlock(vue.Fragment,null,vue.renderList(a.value,x=>{var P;return vue.openBlock(),vue.createElementBlock(vue.Fragment,null,[(P=i.value[x.id])!=null&&P.visible?(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(x.component),{key:x.id,id:x.id,ref_for:true,ref:B=>{var H;(H=i.value[x.id])!=null&&H.path&&(o.value[x.id]=B);}},null,8,["id"])):vue.createCommentVNode("",true)],64)}),256)),vue.createVNode(h,{class:"group"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref($t.ElButton),{size:"small",onClick:r},{default:vue.withCtx(()=>m[0]||(m[0]=[vue.createTextVNode("临时隐藏")])),_:1}),vue.createVNode($n,{"is-lite":t.isLite,onSaved:d},null,8,["is-lite"])]),_:1})]),vue.createVNode(Nn)],512)}}}),An=Ye(Hn,[["__scopeId","data-v-ee34aa69"]]);vue.createApp(An,{isLite:true}).use($t,{zIndex:4e3}).mount((()=>{const t=document.createElement("div");return document.body.append(t),t})());

})(Vue, ElementPlus, echarts, Sortable);